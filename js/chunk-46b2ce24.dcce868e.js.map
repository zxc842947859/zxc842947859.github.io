{"version":3,"sources":["webpack:///./src/views/home/my/myCell.vue?15cf","webpack:///src/views/home/my/myCell.vue","webpack:///./src/views/home/my/myCell.vue?a458","webpack:///./src/views/home/my/myCell.vue","webpack:///./src/views/home/my/myCell.vue?93fc","webpack:///./src/views/info/info.vue?8865","webpack:///./src/assets/logo.png","webpack:///./src/views/info/info.vue?f761","webpack:///src/views/info/info.vue","webpack:///./src/views/info/info.vue?40a1","webpack:///./src/views/info/info.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","icon","scopedSlots","_u","key","fn","_v","_s","title","proxy","type","value","staticRenderFns","props","component","module","exports","on","backMy","saveInfo","nativeOn","$event","showPopup3","infoList","photo","model","callback","$$v","$set","expression","showPopup","name","showPopup2","myList","intro","gender","show2","_f","birthday","show3","style","height","width","show5","beforeRead","afterRead","deleteEvent","imgUrl","closeImg","show6","changeName","show","valueInput","changeIntroduce","show4","valueInput2","Object","values","genderObj","changeGender","minDate","maxDate","changeBirthday","currentDate","data","Date","valueInput3","Introduce","kind","0","1","methods","initMy","$router","push","editInfo","getUserInfo","console","log","res","valueInput5","show1","$store","commit","index","isImg","$toast","fail","limit2M","inputValue","components","myCell","created"],"mappings":"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","file":"js/chunk-46b2ce24.dcce868e.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('van-cell',{staticClass:\"myCell\",attrs:{\"is-link\":\"\",\"icon\":_vm.icon,\"center\":\"\"},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('div',{staticClass:\"title\"},[_vm._v(\" \"+_vm._s(_vm.title)+\" \")])]},proxy:true},{key:\"default\",fn:function(){return [(_vm.type === 'img' && _vm.value)?_c('img',{staticClass:\"img\",attrs:{\"src\":_vm.value,\"alt\":\"\"}}):(_vm.type === 'img' && !_vm.value)?_c('img',{staticClass:\"img\",attrs:{\"src\":require(\"@/assets/logo.png\"),\"alt\":\"\"}}):_c('div',{staticClass:\"value\"},[_vm._v(\" \"+_vm._s(_vm.value)+\" \")])]},proxy:true}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <van-cell is-link :icon='icon' center class=\"myCell\">\n    <template #title>\n      <div class=\"title\">\n        {{ title }}\n      </div>\n    </template>\n    <template #default>\n      <!-- 没有头像地址时处理  value===undefined -->\n      <!-- type=img且有头像地址 -->\n      <img v-if=\"type === 'img' && value\" class=\"img\" :src=\"value\" alt=\"\" />\n      <!-- type=img但没有头像地址 -->\n      <img\n        v-else-if=\"type === 'img' && !value\"\n        class=\"img\"\n        src=\"@/assets/logo.png\"\n        alt=\"\"\n      />\n      <!-- 非img -->\n      <div v-else class=\"value\">\n        {{ value }}\n      </div>\n    </template>\n  </van-cell>\n</template>\n\n<script>\nexport default {\n  props: ['title', 'value', 'type', 'icon']\n}\n</script>\n\n<style lang=\"less\">\n.myCell {\n  width: 100%;\n  .img {\n    width: 14px;\n    height: 14px;\n    border-radius: 50%;\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./myCell.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./myCell.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./myCell.vue?vue&type=template&id=df182638&\"\nimport script from \"./myCell.vue?vue&type=script&lang=js&\"\nexport * from \"./myCell.vue?vue&type=script&lang=js&\"\nimport style0 from \"./myCell.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./myCell.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./myCell.vue?vue&type=style&index=0&lang=less&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./info.vue?vue&type=style&index=0&id=44753d8b&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./info.vue?vue&type=style&index=0&id=44753d8b&lang=less&scoped=true&\"","module.exports = __webpack_public_path__ + \"img/logo.82b9c7a5.png\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"info\"},[_c('van-nav-bar',{staticClass:\"hmNavbar\",attrs:{\"title\":\"个人信息\",\"right-text\":\"保存\",\"left-arrow\":\"\"},on:{\"click-left\":_vm.backMy,\"click-right\":_vm.saveInfo}}),_c('div',{staticClass:\"cell1\"},[_c('myCell',{attrs:{\"title\":\"头像\",\"type\":\"img\"},nativeOn:{\"click\":function($event){return _vm.showPopup3(_vm.infoList.photo)}},model:{value:(_vm.infoList.photo),callback:function ($$v) {_vm.$set(_vm.infoList, \"photo\", $$v)},expression:\"infoList.photo\"}}),_c('myCell',{attrs:{\"title\":\"昵称\"},nativeOn:{\"click\":function($event){return _vm.showPopup(_vm.infoList.name)}},model:{value:(_vm.infoList.name),callback:function ($$v) {_vm.$set(_vm.infoList, \"name\", $$v)},expression:\"infoList.name\"}}),_c('myCell',{attrs:{\"title\":\"介绍\"},nativeOn:{\"click\":function($event){return _vm.showPopup2(_vm.myList.intro)}},model:{value:(_vm.myList.intro),callback:function ($$v) {_vm.$set(_vm.myList, \"intro\", $$v)},expression:\"myList.intro\"}})],1),_c('div',{staticClass:\"cell2\"},[_c('myCell',{attrs:{\"title\":\"性别\",\"value\":_vm.infoList.gender === 0 ? '男' : '女'},nativeOn:{\"click\":function($event){_vm.show2 = true}}}),_c('myCell',{attrs:{\"title\":\"生日\",\"value\":_vm._f(\"fromtime2\")(_vm.infoList.birthday)},nativeOn:{\"click\":function($event){_vm.show3 = true}}})],1),_c('van-popup',{staticClass:\"show5\",style:({ height: '152px', width: '90%' }),model:{value:(_vm.show5),callback:function ($$v) {_vm.show5=$$v},expression:\"show5\"}},[_c('van-uploader',{attrs:{\"before-read\":_vm.beforeRead,\"after-read\":_vm.afterRead,\"max-count\":\"1\"},on:{\"delete\":_vm.deleteEvent}},[_c('div',[_vm._v(\"从相册中选择\")])]),_c('div',{staticClass:\"show5center\"},[_vm._v(\"拍照\")]),_c('div',[_vm._v(\"取消\")])],1),_c('van-image-preview',{attrs:{\"images\":[_vm.imgUrl]},on:{\"close\":_vm.closeImg},model:{value:(_vm.show6),callback:function ($$v) {_vm.show6=$$v},expression:\"show6\"}}),_c('van-popup',{style:({ height: '20%' }),attrs:{\"position\":\"bottom\"},on:{\"closed\":_vm.changeName},model:{value:(_vm.show),callback:function ($$v) {_vm.show=$$v},expression:\"show\"}},[_c('van-field',{attrs:{\"placeholder\":\"请输入\"},model:{value:(_vm.valueInput),callback:function ($$v) {_vm.valueInput=$$v},expression:\"valueInput\"}})],1),_c('van-popup',{style:({ height: '20%' }),attrs:{\"position\":\"bottom\"},on:{\"closed\":_vm.changeIntroduce},model:{value:(_vm.show4),callback:function ($$v) {_vm.show4=$$v},expression:\"show4\"}},[_c('van-field',{attrs:{\"placeholder\":\"请输入\"},model:{value:(_vm.valueInput2),callback:function ($$v) {_vm.valueInput2=$$v},expression:\"valueInput2\"}})],1),_c('van-popup',{style:({ height: '40%' }),attrs:{\"position\":\"bottom\"},model:{value:(_vm.show2),callback:function ($$v) {_vm.show2=$$v},expression:\"show2\"}},[_c('van-picker',{attrs:{\"title\":\"性别\",\"show-toolbar\":\"\",\"columns\":Object.values(_vm.genderObj),\"default-index\":_vm.infoList.gender},on:{\"confirm\":_vm.changeGender,\"cancel\":function($event){_vm.show2 = false}}})],1),_c('van-popup',{style:({ height: '40%' }),attrs:{\"position\":\"bottom\"},model:{value:(_vm.show3),callback:function ($$v) {_vm.show3=$$v},expression:\"show3\"}},[_c('van-datetime-picker',{attrs:{\"type\":\"date\",\"title\":\"选择年月日\",\"min-date\":_vm.minDate,\"max-date\":_vm.maxDate},on:{\"confirm\":_vm.changeBirthday},model:{value:(_vm.currentDate),callback:function ($$v) {_vm.currentDate=$$v},expression:\"currentDate\"}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"info\">\n    <van-nav-bar\n      title=\"个人信息\"\n      right-text=\"保存\"\n      left-arrow\n      @click-left=\"backMy\"\n      @click-right=\"saveInfo\"\n      class=\"hmNavbar\"\n    />\n    <div class=\"cell1\">\n      <myCell\n        title=\"头像\"\n        @click.native=\"showPopup3(infoList.photo)\"\n        v-model=\"infoList.photo\"\n        type=\"img\"\n      ></myCell>\n      <!-- @click.native=\"editInfo('昵称', infoList.name)\" -->\n      <myCell\n        title=\"昵称\"\n        @click.native=\"showPopup(infoList.name)\"\n        v-model=\"infoList.name\"\n      ></myCell>\n      <myCell\n        title=\"介绍\"\n        @click.native=\"showPopup2(myList.intro)\"\n        v-model=\"myList.intro\"\n      ></myCell>\n    </div>\n    <div class=\"cell2\">\n      <myCell\n        title=\"性别\"\n        :value=\"infoList.gender === 0 ? '男' : '女'\"\n        @click.native=\"show2 = true\"\n      ></myCell>\n      <myCell\n        title=\"生日\"\n        :value=\"infoList.birthday | fromtime2\"\n        @click.native=\"show3 = true\"\n      ></myCell>\n    </div>\n    <van-popup\n      class=\"show5\"\n      v-model=\"show5\"\n      :style=\"{ height: '152px', width: '90%' }\"\n    >\n      <van-uploader\n        :before-read=\"beforeRead\"\n        :after-read=\"afterRead\"\n        @delete=\"deleteEvent\"\n        max-count=\"1\"\n      >\n        <div>从相册中选择</div>\n      </van-uploader>\n\n      <div class=\"show5center\">拍照</div>\n      <div>取消</div>\n    </van-popup>\n\n    <van-image-preview v-model=\"show6\" @close=\"closeImg\" :images=\"[imgUrl]\">\n    </van-image-preview>\n    <van-popup\n      @closed=\"changeName\"\n      v-model=\"show\"\n      :style=\"{ height: '20%' }\"\n      position=\"bottom\"\n    >\n      <van-field v-model=\"valueInput\" placeholder=\"请输入\" />\n    </van-popup>\n    <van-popup\n      @closed=\"changeIntroduce\"\n      v-model=\"show4\"\n      :style=\"{ height: '20%' }\"\n      position=\"bottom\"\n    >\n      <van-field v-model=\"valueInput2\" placeholder=\"请输入\" />\n    </van-popup>\n    <van-popup v-model=\"show2\" :style=\"{ height: '40%' }\" position=\"bottom\">\n      <van-picker\n        @confirm=\"changeGender\"\n        @cancel=\"show2 = false\"\n        title=\"性别\"\n        show-toolbar\n        :columns=\"Object.values(genderObj)\"\n        :default-index=\"infoList.gender\"\n      />\n    </van-popup>\n    <van-popup v-model=\"show3\" :style=\"{ height: '40%' }\" position=\"bottom\">\n      <van-datetime-picker\n        @confirm=\"changeBirthday\"\n        v-model=\"currentDate\"\n        type=\"date\"\n        title=\"选择年月日\"\n        :min-date=\"minDate\"\n        :max-date=\"maxDate\"\n      />\n    </van-popup>\n  </div>\n</template>\n<script>\nimport myCell from '@/views/home/my/myCell.vue'\nimport dayjs from 'dayjs'\n\nimport {\n  apiGetProfile,\n  apiGetUser,\n  apiUpdateImg,\n  apiUpdate\n} from '@/api/use.js'\n\n// apiUpdate\nexport default {\n  data () {\n    return {\n      infoList: {},\n      show: false,\n      show2: false,\n      show3: false,\n      show4: false,\n      show5: false,\n      show6: false,\n      minDate: new Date(1940, 1, 1),\n      maxDate: new Date(2020, 12, 31),\n      currentDate: '',\n      valueInput: '',\n      valueInput2: '',\n      valueInput3: '',\n      Introduce: '',\n      kind: '',\n      genderObj: {\n        0: '男',\n        1: '女'\n      },\n      myList: {},\n      imgUrl: ''\n    }\n  },\n  methods: {\n    initMy () {\n      apiGetUser()\n        .then(res => {\n          console.log(res)\n          this.myList = res.data.data\n          this.$store.commit('setUserInfo', this.myList)\n        })\n        .catch(() => {\n          this.$toast.fail('我的页面初始化失败')\n        })\n    },\n    closeImg () {\n      this.show6 = false\n    },\n    backMy () {\n      this.$router.push('/my')\n    },\n    saveInfo () {\n      this.editInfo()\n      this.$router.push('/my')\n    },\n    getUserInfo () {\n      apiGetProfile().then(res => {\n        console.log(res)\n        this.infoList = res.data.data\n      })\n    },\n    // 修改昵称\n    showPopup (value) {\n      this.show = true\n      this.valueInput = value\n    },\n    // 修改简介\n    showPopup2 (value) {\n      this.show4 = true\n      this.valueInput2 = value\n    },\n    showPopup3 (value) {\n      this.show5 = true\n      this.valueInput5 = value\n    },\n    changeName () {\n      this.infoList.name = this.valueInput\n      this.show1 = false\n    },\n    changeIntroduce () {\n      this.myList.intro = this.valueInput2\n      this.$store.commit('setUserInfo', this.myList)\n    },\n    changeGender (value, index) {\n      this.show2 = false\n      this.infoList.gender = index\n    },\n    changeBirthday (val) {\n      // console.log('shengri', val.getTime())\n      // console.log('shengri', new Date(val.getTime()).format('yyyy-MM-dd'))\n      // console.log(formatter())\n      this.infoList.birthday = this.currentDate\n      this.show3 = false\n    },\n    // 上传前\n    beforeRead (file) {\n      const isImg =\n        file.type === 'image/png' ||\n        file.type === 'image/jpeg' ||\n        file.type === 'image/gif'\n      if (!isImg) {\n        this.$toast.fail('请上传png,jpg,gif图片格式')\n      }\n      const limit2M = file.size / 1024 / 1024 < 2\n      if (!limit2M) {\n        this.$toast.fail('请上传2M内的图片')\n      }\n      return isImg && limit2M\n    },\n    // 读取后\n    async afterRead (res) {\n      window.console.log('res', res)\n      // const _formData = new FormData()\n      // _formData.append('files', res.file)\n      const res2 = await apiUpdateImg(res)\n      console.log(res2)\n      // this.imgUrl = res2.data.data\n      this.imgUrl =\n        'http://p3.pstatp.com/large/dfic-imagehandler/d94034e2-8079-4de2-a05f-c81fc6f53212'\n      this.show5 = false\n      this.show6 = true\n    },\n    // 删除时触发\n    deleteEvent () {\n      this.inputValue = ''\n    },\n    editInfo () {\n      const name = this.infoList.name\n      const intro = this.myList.intro\n      const gender = this.infoList.gender\n      const birthday = dayjs(this.infoList.birthday).format('YYYY-MM-DD')\n\n      apiUpdate({ name, gender, birthday, intro })\n        .then(res => {\n          this.$toast.fail('修改成功')\n        })\n        .catch(() => {\n          this.$toast.fail('修改失败')\n        })\n    }\n    // saveGender (value, index) {\n    //   console.log('提交性别')\n    //   this.show2 = false\n    //   const gender = index\n    //   console.log(value, index)\n    //   apiUpdate({ gender })\n    //     .then(res => {\n    //       this.getUserInfo()\n    //     })\n    //     .catch(() => {\n    //       this.$toast.fail('修改失败')\n    //     })\n    // }\n  },\n  components: {\n    myCell\n  },\n\n  created () {\n    this.getUserInfo()\n    this.initMy()\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n.info {\n  width: 100%;\n  height: 750px;\n  background-color: #f5f7f9;\n  .hmNavbar {\n    background-color: #e33f3e;\n    ::v-deep .van-nav-bar__arrow {\n      color: #fff !important;\n    }\n    ::v-deep .van-nav-bar__title {\n      color: #fff !important;\n    }\n    ::v-deep .van-nav-bar__text {\n      color: #fff !important;\n    }\n  }\n  .cell1 {\n    margin-bottom: 5px;\n  }\n  .show5 {\n    text-align: center;\n    border-radius: 5px;\n    .show5center {\n      border-top: 2px solid #e6e6e6;\n      border-bottom: 2px solid #e6e6e6;\n    }\n    div {\n      box-sizing: border-box;\n      height: 50px;\n      line-height: 50px;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./info.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./info.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./info.vue?vue&type=template&id=44753d8b&scoped=true&\"\nimport script from \"./info.vue?vue&type=script&lang=js&\"\nexport * from \"./info.vue?vue&type=script&lang=js&\"\nimport style0 from \"./info.vue?vue&type=style&index=0&id=44753d8b&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"44753d8b\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}