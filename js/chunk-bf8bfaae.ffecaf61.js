(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-bf8bfaae"],{"3c00":function(t,e,o){"use strict";var i=o("d90b"),n=o.n(i);n.a},"9bb1":function(t,e,o){t.exports=o.p+"img/timge.7f8d5c98.gif"},d90b:function(t,e,o){},dc3f:function(t,e,o){"use strict";o.r(e);var i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"login"},[t._m(0),o("div",{staticClass:"login_main"},[o("div",{staticClass:"login-content"},[o("h1",{staticClass:"title"},[t._v("登 录")]),o("van-form",{ref:"form"},[o("van-field",{attrs:{name:"mobile","left-icon":"graphic",placeholder:"请输入手机号",rules:t.rules.mobile},model:{value:t.form.mobile,callback:function(e){t.$set(t.form,"mobile",e)},expression:"form.mobile"}}),o("van-field",{attrs:{name:"code","left-icon":"lock",placeholder:"请输入验证码",rules:t.rules.code},scopedSlots:t._u([{key:"button",fn:function(){return[6===t.totalTime?o("div",{staticClass:"getCode",on:{click:t.getCode}},[t._v(" 获取验证码 ")]):o("div",{staticClass:"getCode"},[t._v(t._s(t.totalTime))])]},proxy:!0}]),model:{value:t.form.code,callback:function(e){t.$set(t.form,"code",e)},expression:"form.code"}}),o("div",{staticStyle:{margin:"16px"}},[o("van-button",{staticClass:"login-btn",attrs:{block:"",type:"info","native-type":"submit"},on:{click:t.login}},[t._v(" 登 录 ")]),o("div",{staticClass:"clause"},[o("u",[t._v(" 隐私条款")])])],1)],1)],1)])])},n=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"login_bg"},[i("img",{staticClass:"gif-bg",attrs:{src:o("9bb1"),alt:""}})])}],a=o("80c2"),s=o("20ba"),r={data:function(){return{totalTime:6,form:{mobile:"",code:""},rules:{mobile:[{required:"true",message:"请输入手机号",trigger:"onChange"},{validator:function(t){return/^(0|86|17951)?(13[0-9]|15[012356789]|166|17[3678]|18[0-9]|14[57])[0-9]{8}$/.test(t)},message:"请正确输入手机号",trigger:"onChange"}],code:[{required:"true",message:"请输入验证码",trigger:"onChange"}]}}},methods:{login:function(){var t=this;this.$refs.form.validate().then((function(){Object(a["e"])(t.form).then((function(e){console.log(e),Object(s["c"])("token",e.data.data),t.$router.push(t.$route.query.next?t.$route.query.next:"/index")})).catch((function(){t.$toast.fail("验证失败")}))}))},getCode:function(){var t=this;this.$refs.form.validate("mobile").then((function(){t.totalTime--;var e=setInterval((function(){t.totalTime--,t.totalTime<=0&&(clearInterval(e),t.totalTime=6)}),1e3);t.$toast.success("246810")}))}},created:function(){Object(s["b"])("token")&&this.$router.push(this.$route.query.next?this.$route.query.next:"/index")}},c=r,l=(o("3c00"),o("2877")),u=Object(l["a"])(c,i,n,!1,null,"d504e1ca",null);e["default"]=u.exports}}]);
//# sourceMappingURL=chunk-bf8bfaae.ffecaf61.js.map