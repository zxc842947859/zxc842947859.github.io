(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-39a065ec"],{1446:function(t,e,a){},1631:function(t,e,a){},6969:function(t,e,a){"use strict";var i=a("1631"),n=a.n(i);n.a},bfb4:function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"a",(function(){return s}));var i=a("b775");function n(t){return Object(i["a"])({url:"/app/v1_0/suggestion",method:"GET",params:{q:t}})}function s(t){var e=t.page,a=t.perpage,n=t.q;return Object(i["a"])({url:"/app/v1_0/search",method:"GET",params:{page:e,per_page:a,q:n},needToken:!0})}},c956:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"searchResult"},[a("van-sticky",[a("van-nav-bar",{staticClass:"nvaBar",attrs:{"left-arrow":""},on:{"click-left":t.left},scopedSlots:t._u([{key:"title",fn:function(){return[a("div",{staticClass:"title"},[t._v(" 搜索结果页 ")])]},proxy:!0}])})],1),a("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了"},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.list,(function(e,i){return a("div",{key:i,staticClass:"content"},[a("div",{staticClass:"content-item"},[a("searchItem",{attrs:{item:e},on:{skipClick:function(a){return t.goDetail(e.art_id)}}})],1)])})),0)],1)},n=[],s=a("2909"),r=(a("96cf"),a("1da1")),c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"searchItem"},[t.item.cover.images.length>=2?a("div",{on:{click:t.skipClick}},[a("div",{staticClass:"title"},[t._v(t._s(t.item.title))]),t.item.cover.images.length>0?a("div",{staticClass:"img"},t._l(t.item.cover.images,(function(e,i){return a("van-image",{key:i,attrs:{src:e,alt:"","lazy-load":""},scopedSlots:t._u([{key:"error",fn:function(){return[t._v("加载失败")]},proxy:!0},{key:"loading",fn:function(){return[a("van-loading",{attrs:{type:"spinner",size:"20"}})]},proxy:!0}],null,!0)})})),1):t._e(),a("div",{staticClass:"bottmoBox"},[a("div",{staticClass:"info"},[a("div",{staticClass:"i1"},[t._v(t._s(t.item.aut_name))]),a("div",{staticClass:"i2"},[t._v(t._s(t.item.comm_count)+"评论")]),a("div",{staticClass:"i3"},[t._v(t._s(t._f("fromtime")(t.item.pubdate)))])])])]):a("div",{staticClass:"cell2",on:{click:t.skipClick}},[a("div",{staticClass:"left-box"},[a("div",{staticClass:"title"},[t._v(t._s(t.item.title))]),a("div",{staticClass:"bottmoBox"},[a("div",{staticClass:"info"},[a("div",{staticClass:"i1"},[t._v(t._s(t.item.aut_name))]),a("div",{staticClass:"i2"},[t._v(t._s(t.item.comm_count)+"评论")]),a("div",{staticClass:"i3"},[t._v(t._s(t._f("fromtime")(t.item.pubdate)))])])])]),a("div",{staticClass:"right-box"},[t.item.cover.images.length>0?a("div",{staticClass:"img"},t._l(t.item.cover.images,(function(e,i){return a("van-image",{key:i,attrs:{src:e,alt:"","lazy-load":""},scopedSlots:t._u([{key:"error",fn:function(){return[t._v("加载失败")]},proxy:!0},{key:"loading",fn:function(){return[a("van-loading",{attrs:{type:"spinner",size:"20"}})]},proxy:!0}],null,!0)})})),1):t._e()])])])},o=[],l=a("2b0e"),u=a("343b");l["a"].use(u["a"]);var d={name:"searchItem",props:{item:{type:Object}},methods:{skipClick:function(){this.$emit("skipClick")}}},v=d,m=(a("d143"),a("2877")),f=Object(m["a"])(v,c,o,!1,null,"05cae8b2",null),p=f.exports,_=a("bfb4"),g={name:"searchResult",data:function(){return{q:this.$route.params.key,list:[],page:0,loading:!1,finished:!1}},components:{searchItem:p},created:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.onLoad();case 1:case"end":return e.stop()}}),e)})))()},methods:{left:function(){this.$router.push("/search")},goDetail:function(t){this.$router.push("/detail/"+t+"?next=/search")},onLoad:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.page++,e.next=3,Object(_["a"])({page:t.page,q:t.q});case 3:i=e.sent,console.log(i),(a=t.list).push.apply(a,Object(s["a"])(i.data.data.results)),t.loading=!1,t.list.length>=i.data.data.total_count&&(t.finished=!0);case 8:case"end":return e.stop()}}),e)})))()}}},h=g,k=(a("6969"),Object(m["a"])(h,i,n,!1,null,"94ec7794",null));e["default"]=k.exports},d143:function(t,e,a){"use strict";var i=a("1446"),n=a.n(i);n.a}}]);
//# sourceMappingURL=chunk-39a065ec.deb7c59e.js.map